<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        body { margin:0;padding:0; }

        #test_video {}
    </style>
	<script>
		var getParameters = function (paramName) {
			// 리턴값을 위한 변수 선언
			var returnValue;

			// 현재 URL 가져오기
			var url = location.href;

			// get 파라미터 값을 가져올 수 있는 ? 를 기점으로 slice 한 후 split 으로 나눔
			var parameters = (url.slice(url.indexOf('?') + 1, url.length)).split('&');

			// 나누어진 값의 비교를 통해 paramName 으로 요청된 데이터의 값만 return
			for(var i=0; i<parameters.length; i++) {
				var varName = parameters[i].split('=')[0];
				if (varName.toUpperCase() == paramName.toUpperCase()) {
					returnValue = parameters[i].split('=')[1];
					return decodeURIComponent(returnValue);
				}
			}
		};		
	</script>
</head>
<body> 
<video id="test_video" controls muted autoplay></video>
<script src="free.player.1.80.js"></script>
<script type="text/javascript">
<!--
	var Streamedian;
	function set_url(url, w, h, tp) {
		//test_video.src = '';
		/*
		Streamedian.player('test_video', {socket:"ws://121.167.147.208:30022/ws/"});
		*/

		if(Streamedian == undefined || Streamedian === undefined || Streamedian == null) {}
		else {
			Streamedian.player('test_video', {socket:"ws://127.0.0.1:30022/ws/"});
		}

		var player = document.getElementById('test_video');
		/*
		alert(w + " / " + h);
		*/

		if(tp = "s") {
			document.getElementById('test_video').width = w - 5;
			document.getElementById('test_video').height = h - 5;
		}

	}

 	window.onload = function() {
		/*
		alert(getParameters("cctvUrl"));
		*/
		set_url(getParameters("cctvUrl"), getParameters("w"), getParameters("h"), getParameters("tp"));
	}
//-->
</script>
</body>
</html>